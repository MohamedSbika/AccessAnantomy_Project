<!DOCTYPE html><html><head><meta charset="UTF-8"></head><body style="font-family: sans-serif; line-height: 1.5; padding: 20px;"><p style="margin-bottom: 8pt;">TP Express + MongoDB — Guide Complet</p><p style="margin-bottom: 8pt;">arborescence du projettp-express-mongo/│├── src/│   ├── server.js              │   ││   ├── api/│   │   ├── models/│   │   │   └── user.model.js   # Schéma MongoDB│   │   ││   │   ├── controllers/│   │   │   └── user.controller.js  # Logique métier CRUD│   │   ││   │   └── routes/│   │       └── user.routes.js  # Définition des endpoints REST│   ││   ├── middlewares/│   │   └── logger.js           │   ││   └── config/│       └── db.js               │├── .env                        ├── package.json└── README.md Idée clé :models = structure de la donnée (MongoDB)controllers = logique (que faire avec cette donnée)routes = quelles URL et quel HTTP method appellent quel controllerserver.js = colle tout ensemble et démarre le serveur</p><p style="margin-bottom: 8pt;">2. Initialisation rapide (rappel)mkdir tp-express-mongocd tp-express-mongonpm init -ynpm install express mongoose dotenvnpm install --save-dev nodemon</p><p style="margin-bottom: 8pt;">3. Création des dossiers/fichiersmkdir srccd srcmkdir api middlewares configcd apimkdir models controllers routescd ../..touch .env README.mdtouch src/server.jstouch src/config/db.jstouch src/middlewares/logger.jstouch src/api/models/user.model.jstouch src/api/controllers/user.controller.jstouch src/api/routes/user.routes.js</p><p style="margin-bottom: 8pt;">4. Fichier .envPORT=5000MONGODB_URI=mongodb://localhost:27017/tp_express_mongoPORT → port HTTPMONGODB_URI → base MongoDB locale</p><p style="margin-bottom: 8pt;">5. Connexion MongoDB – src/config/db.jsconst mongoose = require('mongoose');const connectDB = async () =&gt; {  try {    await mongoose.connect(process.env.MONGODB_URI);    console.log('MongoDB connecté');  } catch (error) {    console.error(error.message);    process.exit(1);  }};module.exports = connectDB; Pourquoi ?- mongoose.connect → connexion DB- process.env → variables .env- process.exit(1) → stop API si DB HS</p><p style="margin-bottom: 8pt;">6. Modèle User – src/api/models/user.model.jsconst mongoose = require('mongoose');const userSchema = new mongoose.Schema({  name:String,email:String,age:Number},{timestamps:true});module.exports = mongoose.model('User', userSchema);</p><p style="margin-bottom: 8pt;"> Rôle du modèle :userSchema = structure de documents MongoDBUser = interface d’accès DB</p><p style="margin-bottom: 8pt;">7. Controller CRUD – src/api/controllers/user.controller.jscontient createUser, getAllUsers, getUserById, updateUser, deleteUser</p><p style="margin-bottom: 8pt;">8. Routes User – src/api/routes/user.routes.jsrouter.post('/', createUser);router.get('/', getAllUsers);router.get('/:id', getUserById);router.put('/:id', updateUser);router.delete('/:id', deleteUser); router = liaison HTTP → controller</p><p style="margin-bottom: 8pt;">9. Middleware logger – src/middlewares/logger.jsconsole.log(req.method, req.url); next(); Sert pour debug</p><p style="margin-bottom: 8pt;">10. server.js (fichier principal)dotenv.config(); connectDB(); app.use(express.json());app.use(logger);app.use('/api/users',userRoutes);app.listen(PORT);</p><p style="margin-bottom: 8pt;">11. Scripts package.json"start":"node src/server.js", "dev":"nodemon src/server.js"</p><p style="margin-bottom: 8pt;">12. Lancementnpm run devTest API :POST /api/users {name,email,age}GET/PUT/DELETE /api/users/:id</p><p style="margin-bottom: 8pt;">Creation de repo git : git init</p><p style="margin-bottom: 8pt;">git add .</p><p style="margin-bottom: 8pt;">git commit -m "first commit"</p><p style="margin-bottom: 8pt;">git branch -M main</p><p style="margin-bottom: 8pt;">git remote add origin https://github.com/MohamedSbika/tp_express.git</p><p style="margin-bottom: 8pt;">git push -u origin main</p><p style="margin-bottom: 8pt;"></p><p style="margin-bottom: 8pt;"></p><p style="margin-bottom: 8pt;">Applications des methodes crud </p><p style="margin-bottom: 8pt;">Another git branch to make scenario reel partie auth ( jwt + documentation ) in middleware test avec postman </p><p style="margin-bottom: 8pt;">Partage de projet reelle avec express js </p><p style="margin-bottom: 8pt;"></p><p style="margin-bottom: 8pt;"></p><p style="margin-bottom: 8pt;"></p><p style="margin-bottom: 8pt;">npm install bcryptjs jsonwebtoken</p><p style="margin-bottom: 8pt;"></p><p style="margin-bottom: 8pt;"></p></body></html>